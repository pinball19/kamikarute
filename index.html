<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>KamiFree – 起動</title>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-auth.js"></script>
</head>
<body class="center">
  <h2>起動中…</h2>

<script>
/* ===== Firebase 初期化 ===== */
const firebaseConfig = {
  apiKey: "AIzaSyAU8ESmE4c7rpV9E-UhOrJsR3L13i19J04",
  authDomain: "kamikarute-2ef80.firebaseapp.com",
  projectId: "kamikarute-2ef80",
  storageBucket: "kamikarute-2ef80.firebasestorage.app",
  messagingSenderId: "576153997748",
  appId: "1:576153997748:web:8643dc7aafed322ee462e1",
  measurementId: "G-GR2H2BXK2T"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

/* ===== 匿名で自動ログイン ===== */
auth.signInAnonymously()
    .then(()=>location.href = "app.html")
    .catch(err => alert("起動失敗\n"+err.message));

/* --- 後日メール認証に戻すときは
     1) ここを削除
     2) 下記の旧フォームを復活させる
--------------------------------------------------
<input id="email"  type="email"    placeholder="メール" />
<input id="pass"   type="password" placeholder="パスワード" />
<button id="login">ログイン / 新規登録</button>

login.onclick = async () => {
  try {
    await auth.signInWithEmailAndPassword(email.value, pass.value);
  } catch {
    await auth.createUserWithEmailAndPassword(email.value, pass.value);
  }
  location.href = 'app.html';
};
-------------------------------------------------- */
</script>
</body>
</html>
